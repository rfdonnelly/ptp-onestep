= One-step Timestamping with Linux C APIs

== Invocation

[source,sh]
----
make CROSS_COMPILE=arm-linux-gnueabihf-
./run <timeTransmitter> <timeReceiver>
----

== Example

[source,console]
----
$ make CROSS_COMPILE=arm-linux-gnueabihf-
arm-linux-gnueabihf-gcc -static -o tx tx.c
$ ./run hpscrpitsn0 hpscrpitsn1
txpkt
PTPv18
        0x0000:  0180 c200 000e cacd 33e4 7891 88f7 1012
        0x0010:  002c 0000 0000 0000 0000 0000 0000 0000
        0x0020:  0000 cacd 33ff fee4 7891 0001 0017 00fd
        0x0030:  0000 0000 0000 0000 0000
rxpkt
PTPv18
        0x0000:  0180 c200 000e cacd 33e4 7891 88f7 1012
        0x0010:  002c 0000 0000 0000 0000 02a8 4e00 0000
        0x0020:  0000 cacd 33ff fee4 7891 0001 0017 00fd
        0x0030:  0000 0002 ff2c 0664 3111 0000
--- txpkt       2025-09-16 18:41:24.117901577 -0700
+++ rxpkt       2025-09-16 18:41:24.073901557 -0700
@@ -1,5 +1,5 @@
 PTPv18
        0x0000:  0180 c200 000e cacd 33e4 7891 88f7 1012
-       0x0010:  002c 0000 0000 0000 0000 0000 0000 0000
+       0x0010:  002c 0000 0000 0000 0000 02a8 4e00 0000
        0x0020:  0000 cacd 33ff fee4 7891 0001 0017 00fd
-       0x0030:  0000 0000 0000 0000 0000 0000
+       0x0030:  0000 0002 ff2c 0664 3111 0000
PASSED: Packets differ => packet was timestamped
---
